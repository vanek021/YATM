@page "/"

@using YATM.BlazorModels.Boards;
@using YATM.Factories;
@using YATM.Services;

@attribute [Authorize]

@inject DatabaseFactory dbFactory

<PageTitle>Index</PageTitle>

<h1>Hello, world!</h1>

@foreach (var board in Boards)
{
    <h2>@board.Name</h2>
}

@code {
    public List<BoardBlazorModel> Boards { get; set; } = new();
    public BoardBlazorModel ActiveBoard { get; set; }

    protected override Task OnInitializedAsync()
    {
        using var db = dbFactory.Create();
        var boardService = db.GetService<BoardService>();

        return base.OnInitializedAsync();
    }
}